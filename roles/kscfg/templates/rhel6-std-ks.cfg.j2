# Kickstart file automatically generated by anaconda.

#version=DEVEL
install
cdrom
lang ja_JP.UTF-8
keyboard jp106
network --onboot yes --device {{item.kscfg_netdev}} --bootproto static --ip {{item.kscfg_ip}} --netmask {{item.kscfg_netmask}} --gateway {{item.kscfg_gateway}} --noipv6 --nameserver {{item.kscfg_nameserver}} --hostname {{item.kscfg_hostname}}
rootpw --plaintext {{item.kscfg_rootpw}}
firewall --service=ssh
authconfig --enableshadow --passalgo=sha512
selinux --enforcing
timezone Asia/Tokyo
bootloader --location=mbr --driveorder={{item.kscfg_hdddev}} --append="crashkernel=auto rhgb quiet"
# The following is the partition information you requested
# Note that any partitions you deleted are not expressed
# here so unless you clear all partitions first, this is
# not guaranteed to work
#clearpart --none
zerombr
clearpart --all --initlabel --drives={{item.kscfg_hdddev}}

#part /boot --fstype=ext4 --asprimary --size=512
#part /dump --fstype=ext4 --asprimary --size=4096
#part swap --asprimary --size=4096
#part / --fstype=ext4 --grow --asprimary --size=1
part /boot --fstype=ext4 --ondisk={{item.kscfg_hdddev}} --size=512 --asprimary
part / --fstype=ext4 --ondisk={{item.kscfg_hdddev}} --size=1 --grow --asprimary
part swap --fstype=swap --ondisk={{item.kscfg_hdddev}} --size={{item.kscfg_memsize | int // 2}} --asprimary
{% if item.kscfg_kdump_part %}
part /dump --fstype=ext4 --ondisk={{item.kscfg_hdddev}} --size={{(item.kscfg_memsize | int * 1.1) | int}} --asprimary
{% endif %}

poweroff

%packages
@additional-devel
@base
@client-mgmt-tools
@core
@debugging
@basic-desktop
@desktop-debugging
@desktop-platform
@desktop-platform-devel
@development
@directory-client
@eclipse
@emacs
@fonts
@general-desktop
@graphical-admin-tools
@graphics
@input-methods
@internet-browser
@japanese-support
@java-platform
@legacy-x
@network-file-system-client
@network-tools
@performance
@perl-runtime
@print-client
@remote-desktop-clients
@system-management-snmp
@server-platform
@server-platform-devel
@server-policy
@tex
@technical-writing
@x11
libXinerama-devel
openmotif-devel
libXmu-devel
xorg-x11-proto-devel
startup-notification-devel
libgnomeui-devel
libbonobo-devel
junit
libXau-devel
libgcrypt-devel
popt-devel
gnome-python2-desktop
libdrm-devel
libXrandr-devel
libxslt-devel
libglade2-devel
gnutls-devel
mtools
pax
python-dmidecode
oddjob
wodim
sgpio
genisoimage
device-mapper-persistent-data
systemtap-client
abrt-gui
desktop-file-utils
ant
rpmdevtools
python-six
jpackage-utils
python-requests
rpmlint
samba-winbind
certmonger
pam_krb5
krb5-workstation
netpbm-progs
openmotif
libXmu
libXp
lksctp-tools
wireshark
perl-DBD-SQLite
-postgresql-devel
%end